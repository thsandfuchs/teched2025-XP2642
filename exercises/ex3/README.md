# Exercise 3 - Exploring Kyma Telemetry with SAP Cloud Logging

## Exercise 3.0 - Simulate some load

Lets make some HTTP requests to the Httpbin application previously deployed in the Kyma runtime.

- Run the GitHub action ending with `telemetry`.
- It will make 10 requests to the Httpbin application.
- You can change the request count if you would like to simulate more load.

Once completed, we would navigate to SAP Cloud Logging to explore the three pillars of Kyma Telemetry: Logs, Metrics and Traces.

## Exercise 3.1 - Access SAP Cloud Logging

- Access the SAP Cloud Logging from the Link provided

- Navigate to `Discover` to acess the logs

<table style="width: 100%; border-collapse: collapse; background-color: #f5f5f5;" border="1">
<tbody>
<tr style="height: 193px;">
<td style="width: 71.6%; height: 193px;">
<div>
<h1><a href=""><img class="aligncenter" src="./assets/telemetry-cls-discover-logs-0.png" alt="access-cls" height="600"/></a></h1>
</div>
</td>
</tr>
</tbody>
</table> 


## Exercise 3.2 - Explore Logs  

- Lets explore the logs generated by the Httpbin application.
- Refine the search be introducing the following settings:
  - Index pattern: `log-json-istio-envoy-kyma-*`
  - In search bar, enter your cluster id to get only logs from your cluster e.g. `c-99567a`
  - Add filters for namespace and app name as shown below


<table style="width: 100%; border-collapse: collapse; background-color: #f5f5f5;" border="1">
<tbody>
<tr style="height: 193px;">
<td style="width: 71.6%; height: 193px;">
<div>
<h1><a href=""><img class="aligncenter" src="./assets/telemetry-cls-discover-logs-1.png" alt="filter" height="600"/></a></h1>
</div>
</td>
</tr>
</tbody>
</table> 


- Open any one of the log entries to see the details.  


<table style="width: 100%; border-collapse: collapse; background-color: #f5f5f5;" border="1">
<tbody>
<tr style="height: 193px;">
<td style="width: 71.6%; height: 193px;">
<div>
<h1><a href=""><img class="aligncenter" src="./assets/telemetry-cls-discover-logs-2.png" alt="log-details" height="600"/></a></h1>
</div>
</td>
</tr>
</tbody>
</table> 

- Feel free to explore further

## Exercise 3.3 - Explore Metrics  

There are some pre-defined dashboards available in SAP Cloud Logging. Let's explore some of them.

- Select `Dashboards` from the left menu


<table style="width: 100%; border-collapse: collapse; background-color: #f5f5f5;" border="1">
<tbody>
<tr style="height: 193px;">
<td style="width: 71.6%; height: 193px;">
<div>
<h1><a href=""><img class="aligncenter" src="./assets/telemetry-cls-dashboards.png" alt="dashboards" height="600"/></a></h1>
</div>
</td>
</tr>
</tbody>
</table>   

- Check the overview dashboard. Apply the filters as shown below to narrow down details to your cluster and application


<table style="width: 100%; border-collapse: collapse; background-color: #f5f5f5;" border="1">
<tbody>
<tr style="height: 193px;">
<td style="width: 71.6%; height: 193px;">
<div>
<h1><a href=""><img class="aligncenter" src="./assets/telemetry-cls-kyma-overview.png" alt="overview" /></a></h1>
</div>
</td>
</tr>
</tbody>
</table>    

- Similarly check `Four golden signals` and `usage` dashboards

  * four golden signals

<table style="width: 100%; border-collapse: collapse; background-color: #f5f5f5;" border="1">
<tbody>
<tr style="height: 193px;">
<td style="width: 71.6%; height: 193px;">
<div>
<h1><a href=""><img class="aligncenter" src="./assets/telemetry-cls-4-golden-signals.png" alt="4-g-s" /></a></h1>
</div>
</td>
</tr>
</tbody>
</table>   

  * usage

<table style="width: 100%; border-collapse: collapse; background-color: #f5f5f5;" border="1">
<tbody>
<tr style="height: 193px;">
<td style="width: 71.6%; height: 193px;">
<div>
<h1><a href=""><img class="aligncenter" src="./assets/telemetry-cls-usage.png" alt="usage" /></a></h1>
</div>
</td>
</tr>
</tbody>
</table>   

- Feel free to explore further

## Exercise 3.4 - Explore Traces

- Select `Traces` from the left menu

<table style="width: 100%; border-collapse: collapse; background-color: #f5f5f5;" border="1">
<tbody>
<tr style="height: 193px;">
<td style="width: 71.6%; height: 193px;">
<div>
<h1><a href=""><img class="aligncenter" src="./assets/telemetry-cls-traces-0.png" alt="traces" /></a></h1>
</div>
</td>
</tr>
</tbody>
</table>   

- Select one of the traces to see the details

<table style="width: 100%; border-collapse: collapse; background-color: #f5f5f5;" border="1">
<tbody>
<tr style="height: 193px;">
<td style="width: 71.6%; height: 193px;">
<div>
<h1><a href=""><img class="aligncenter" src="./assets/telemetry-cls-traces-1.png" alt="trace-details" /></a></h1>
</div>
</td>
</tr>
</tbody>
</table>   

- The Trace view shows the request flow from istio ingress gateway to the Httpbin application

<table style="width: 100%; border-collapse: collapse; background-color: #f5f5f5;" border="1">
<tbody>
<tr style="height: 193px;">
<td style="width: 71.6%; height: 193px;">
<div>
<h1><a href=""><img class="aligncenter" src="./assets/telemetry-cls-traces-2.png" alt="trace-flow" /></a></h1>
</div>
</td>
</tr>
</tbody>
</table>   

  >Note: Some Trace spans may be jumbled up
- Feel free to explore further
